<!--
 * @Author: your name
 * @Date: 2020-05-22 01:30:31
 * @LastEditTime: 2020-06-10 22:51:00
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \vuepress-blog\docs\blog\Javascript-Library\常见手写代码.md
--> 
## 手写 new 的执行过程
首先我们知道 new 的执行过程如
1. 创建一个空对象
2. 将对象的 ```__proto__``` 指向构造函数的 prototype
3. 将这个对象作为构造函数的 this
4. 确保返回值为对象

```js
function myNew(Con,...arg) {
  let obj=Object.creat(Con.prototype)
  let result=Con.apply(obj,arg)
  return result instanceof Object?result:obj

}

```
## 编写javascript深度克隆函数deepClone
```js
const deepClone=function(obj){
  let objClone=Array.isArray(pbj)?[]:{}
  if(obj && typeof obj==='object'){
    for(let key in obj){
      if(obj.hasOwnProperty(key)){
        //obj 子元素是否为对象，是的话则递归
        if(obj[key] && typeof obj==='object'){
                    // 深拷贝日期类型
          if (obj[key] instanceof Date) {
            objClone[key] = new Date(obj[key].valueOf())
        }else{
          objClone[key]= deepClone(obj[key])
        }
      }else{
        // 如果不是，简单复制
          objClone[key] = obj[key]
      }
    }
  }
   return objClone
}
```
##  手写ajax
```js
function get(){
  //创建ajax实例
  let req=new XMLHTTPRequest();
  if(req){
    //执行open 确定要访问的链接 以及同步异步
    req.open("GET", "http://test.com/?keywords=手机", true);
    //监听请求状态
    req.onreadystatechange=function(){
      if(req.readystate===4){
        if(req.statue===200){
          console.log('success')
        }else{
          console.log('error')
        }
      }
    }
    //发送请求
    req.send()
  }
}
```