# Javascript 面试题

## 1、JavaScript 有几种类型的值？存储位置？

 js 可分为两种数据类型：```原始数据类型和引用数据类型```。

 **原始数据类型( String、Number、Null、Undefined、Boolean、Symbol )**，原始数据类型存放在栈中。

**引用数据类型（对象、数组和函数）**，引用数据类型的值保存在堆中，引用数据类型在栈中存储了指针，该指针指向堆中该实体的起始地址。当解释器寻找引用值时，会首先检索其在栈中的地址，取得地址后从堆中获得实体。

## 2、怎么理解闭包，作用是什么？

闭包是指有权访问另一函数作用域中变量的函数，其最常见的为函数 A 内创建函数 B ，函数 B 可以访问函数 A 的局部变量。

作用：
- 我们可以通过在外部调用闭包函数，在函数外部访问到函数内部的变量。用这种方式创建私有变量。
- 存储这个变量，使得这个变量不会被回收。注：(这也是常说的闭包造成内存泄漏)

## 了解浏览器的缓存机制吗？

web 资源的缓存策略一般由服务器来指定，可以分为两种，分别是**强缓存策略**和**协商缓存策略**。

**强缓存策略**：使用强缓存策略时，如果缓存资源有效，则直接使用缓存资源，不必向服务器发送请求。强缓存策略可以通过两种方式来设置，分别为 http 头部信息中的 **Expires 和 Cache-Control**。

Expires 是 http1.0 中的方式，因为它的一些缺点，在 http 1.1 中提出了一个新的头部属性就是 Cache-Control 属性。它提供了对资源的缓存的更精确的控制。它有很多不同的值，常用的比如我们可以通过设置 max-age 来指定资源能够被缓存的时间
的大小，这是一个相对的时间，它会根据这个时间的大小和资源第一次请求时的时间来计算出资源过期的时间，因此相对于 Expires
来说，这种方式更加有效一些。常用的还有比如 private ，用来规定资源只能被客户端缓存，不能够代理服务器所缓存。还有如 n
o-store ，用来指定资源不能够被缓存，no-cache 代表该资源能够被缓存，但是立即失效，每次都需要向服务器发起请求。

通常来说设置一种就行了，两种方式一起使用时，Cache-Control 的优先级要高于 Expires 。

**协商缓存**：当使用协商缓存策略时，会先向服务器发送一个请求，如果资源没有发生修改，则返回一个 304 状态，让浏览器使用本地的缓存副本。
如果资源发生了修改，则返回修改后的资源。协商缓存也可以通过两种方式来设置，分别是 http 头信息中的 Etag 和 Last-Modified 属性。

**区别**：强缓存策略和协商缓存策略在缓存命中时都会直接使用本地的缓存副本，区别只在于协商缓存会向服务器发送一次请求。它们缓存不命中时，都会向服务器发送请求来获取资源。在实际的缓存机制中，强缓存策略和协商缓存策略是一起合作使用的。浏览器首先会根据请求的信息判断，强缓存是否命中，如果命中则直接使用资源。如果不命中则根据头信息向服务器发起请求，使用协商缓存，如果协商缓存命中的话，则服务器不返回资源，浏览器直接使用本地资源的副本，如果协商缓存不命中，则浏览器返回最新的资源给浏览器。


<Vssue/>
